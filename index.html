<!DOCTYPE html>
<html>
<head>
  <title>Learning Style Quiz</title>
</head>
<body>
  <h1>Learning Style Quiz</h1>
  <form id="quizForm">
    <p>Question 1: I remember things better when I...</p>
    <input type="radio" name="q1" value="visual"> see them<br>
    <input type="radio" name="q1" value="auditory"> hear them<br>
    <input type="radio" name="q1" value="kinesthetic"> do something with them<br>

    <p>Question 2: When trying to recall a phone number, I...</p>
    <input type="radio" name="q2" value="visual"> visualize the numbers<br>
    <input type="radio" name="q2" value="auditory"> say them aloud<br>
    <input type="radio" name="q2" value="kinesthetic"> write them down<br>

    <p>Question 3: In a class, I prefer...</p>
    <input type="radio" name="q3" value="visual"> diagrams and pictures<br>
    <input type="radio" name="q3" value="auditory"> listening to lectures<br>
    <input type="radio" name="q3" value="kinesthetic"> hands-on activities<br>

    <button type="button" onclick="calculateResult()">See My Learning Style</button>
  </form>

  <div id="result"></div>

  <script>
    function calculateResult() {
      const form = document.getElementById("quizForm");
      const resultDiv = document.getElementById("result");
      const answers = new FormData(form);

      let scores = { visual: 0, auditory: 0, kinesthetic: 0 };

      for (let [question, answer] of answers.entries()) {
        scores[answer]++;
      }

      let maxScore = Math.max(scores.visual, scores.auditory, scores.kinesthetic);
      let style = Object.keys(scores).find(key => scores[key] === maxScore);

      let finalResult = "";
      if (style === "visual") {
        finalResult = "ðŸŒŸ Your dominant learning style is: Visual/Spatial ðŸŒŸ";
      } else if (style === "auditory") {
        finalResult = "ðŸŽ§ Your dominant learning style is: Auditory/Verbal ðŸŽ§";
      } else {
        finalResult = "ðŸ§© Your dominant learning style is: Kinesthetic/Tactile ðŸ§©";
      }

      resultDiv.innerHTML = `
        <p>${finalResult}</p>
        <button onclick="shareQuiz('${finalResult}')">SHARE THE QUIZ</button>
        <button onclick="visitPreply('${finalResult}')">Visit my Preply profile and come back for your result</button>
      `;
    }

    function shareQuiz(resultText) {
      const shareData = {
        title: "Check out my Learning Style!",
        text: resultText,
        url: "https://thebestenglish.github.io/learning-style-quiz/"
      };

      if (navigator.share) {
        navigator.share(shareData)
          .then(() => console.log("Shared successfully!"))
          .catch(err => console.error("Share failed:", err));
      } else {
        // Fallback: copy link to clipboard
        const dummy = document.createElement("textarea");
        dummy.value = shareData.url;
        document.body.appendChild(dummy);
        dummy.select();
        document.execCommand("copy");
        document.body.removeChild(dummy);
        alert("Sharing is not supported on this device. The quiz link has been copied to your clipboard.");
      }
    }

    function visitPreply(resultText) {
      window.open("https://preply.com/en/tutor/1123463", "_blank");
    }
  </script>
</body>
</html>
